<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.7.4">
  <compounddef id="classwx_recursion_guard" kind="class" prot="public">
    <compoundname>wxRecursionGuard</compoundname>
    <includes local="no">wx/recguard.h</includes>
      <sectiondef kind="public-func">
      <memberdef kind="function" id="classwx_recursion_guard_1a9dde9c6284b26edda237c219eff09145" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>wxRecursionGuard::wxRecursionGuard</definition>
        <argsstring>(wxRecursionGuardFlag &amp;flag)</argsstring>
        <name>wxRecursionGuard</name>
        <param>
          <type><ref refid="classwx_recursion_guard_flag" kindref="compound">wxRecursionGuardFlag</ref> &amp;</type>
          <declname>flag</declname>
        </param>
        <briefdescription>
<para>A <ref refid="classwx_recursion_guard" kindref="compound">wxRecursionGuard</ref> object must always be initialized with a <computeroutput>static</computeroutput> <ref refid="classwx_recursion_guard_flag" kindref="compound">wxRecursionGuardFlag</ref>. </para>        </briefdescription>
        <detaileddescription>
<para>The constructor saves the value of the flag to be able to return the correct value from <ref refid="classwx_recursion_guard_1a82df654ab0277174eef32eae3bcd02d1" kindref="member">IsInside()</ref>. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jgm/Development/wxWidgets-svn/interface/wx/recguard.h" line="77"/>
      </memberdef>
      <memberdef kind="function" id="classwx_recursion_guard_1adeb06fb439b4529d96f3e45544a27187" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type></type>
        <definition>wxRecursionGuard::~wxRecursionGuard</definition>
        <argsstring>()</argsstring>
        <name>~wxRecursionGuard</name>
        <briefdescription>
<para>The destructor resets the flag value so that the function can be entered again the next time. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="note"><para>This is not virtual, so this class is not meant to be derived from (besides, there is absolutely no reason to do it anyhow). </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jgm/Development/wxWidgets-svn/interface/wx/recguard.h" line="86"/>
      </memberdef>
      <memberdef kind="function" id="classwx_recursion_guard_1a82df654ab0277174eef32eae3bcd02d1" prot="public" static="no" const="yes" explicit="no" inline="no" virt="non-virtual">
        <type>bool</type>
        <definition>bool wxRecursionGuard::IsInside</definition>
        <argsstring>() const </argsstring>
        <name>IsInside</name>
        <briefdescription>
<para>Returns true if we&apos;re already inside the code block &quot;protected&quot; by this <ref refid="classwx_recursion_guard" kindref="compound">wxRecursionGuard</ref> (i.e. </para>        </briefdescription>
        <detaileddescription>
<para>between this line and the end of current scope). Usually the function using <ref refid="classwx_recursion_guard" kindref="compound">wxRecursionGuard</ref> takes some specific actions in such case (may be simply returning) to prevent reentrant calls to itself.</para><para>If this method returns false, it is safe to continue. </para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/jgm/Development/wxWidgets-svn/interface/wx/recguard.h" line="96"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
<para><ref refid="classwx_recursion_guard" kindref="compound">wxRecursionGuard</ref> is a very simple class which can be used to prevent reentrancy problems in a function. </para>    </briefdescription>
    <detaileddescription>
<para>It is not thread-safe and so should be used only in single-threaded programs or in combination with some thread synchronization mechanisms.</para><para><ref refid="classwx_recursion_guard" kindref="compound">wxRecursionGuard</ref> is always used together with the <ref refid="classwx_recursion_guard_flag" kindref="compound">wxRecursionGuardFlag</ref> like in this example:</para><para><programlisting><codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Foo()</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="classwx_recursion_guard_flag" kindref="compound" tooltip="This is a completely opaque class which exists only to be used with wxRecursionGuard, please see the example in that class&amp;#39; documentation.">wxRecursionGuardFlag</ref><sp/>s_flag;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="classwx_recursion_guard" kindref="compound" tooltip="wxRecursionGuard is a very simple class which can be used to prevent reentrancy problems in a functio...">wxRecursionGuard</ref><sp/>guard(s_flag);</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(<sp/>guard.IsInside()<sp/>)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>don&apos;t<sp/>allow<sp/>reentrancy</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>...</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
</programlisting></para><para>As you can see, <ref refid="classwx_recursion_guard" kindref="compound">wxRecursionGuard</ref> simply tests the flag value and sets it to true if it hadn&apos;t been already set. <ref refid="classwx_recursion_guard_1a82df654ab0277174eef32eae3bcd02d1" kindref="member">IsInside()</ref> allows testing the old flag value. The advantage of using this class compared to directly manipulating the flag is that the flag is always reset in the <ref refid="classwx_recursion_guard" kindref="compound">wxRecursionGuard</ref> destructor and so you don&apos;t risk to forget to do it even if the function returns in an unexpected way (for example because an exception has been thrown).</para><para><heading level="2"></heading>
</para><para>Library:<nonbreakablespace/><nonbreakablespace/><ref refid="page_libs_1page_libs_wxbase" kindref="member">wxBase</ref></para><para>Category:<nonbreakablespace/><nonbreakablespace/><ref refid="group__group__class__misc" kindref="compound">Miscellaneous</ref> </para>    </detaileddescription>
    <location file="/home/jgm/Development/wxWidgets-svn/interface/wx/recguard.h" line="69" bodyfile="/home/jgm/Development/wxWidgets-svn/interface/wx/recguard.h" bodystart="68" bodyend="97"/>
    <listofallmembers>
      <member refid="classwx_recursion_guard_1a82df654ab0277174eef32eae3bcd02d1" prot="public" virt="non-virtual"><scope>wxRecursionGuard</scope><name>IsInside</name></member>
      <member refid="classwx_recursion_guard_1a9dde9c6284b26edda237c219eff09145" prot="public" virt="non-virtual"><scope>wxRecursionGuard</scope><name>wxRecursionGuard</name></member>
      <member refid="classwx_recursion_guard_1adeb06fb439b4529d96f3e45544a27187" prot="public" virt="non-virtual"><scope>wxRecursionGuard</scope><name>~wxRecursionGuard</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
